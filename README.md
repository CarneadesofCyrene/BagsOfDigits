# Bags of Set Reducing Digits
*Carneades.org*

This project seeks to answer the question of whether or not there are a finite number of bags of self reducing digits in a given base.  As of the current publication, we have proven that there are a finite number of self reducing bags of digits for base 2 and base 3.  Other bases up to base 10 have been explored to varying degrees.   For more on what is meant by a bag of self reducing digits, [refer to this blog post](https://www.carneades.org/post/the-mathematics-department-is-running-out-of-numbers).  Additionally this project seeks to visualize the networks of self reducing bags of digits.

## Folder Structure
The repository is split up into individual folders for each base.  In that folder are several files: Python files for the generation of the self reducing bags of digits, csv files with the underlying data in them, and visualization files (gephi, svg and pdf)

## How to Use this Repo
Download the files to your machine.  You will need Python (and ideally pypy for greater efficiency) to run the generation files and Gephi to customize the visualizations

1. **Reset Last Good.txt** First you will need to reset the "Last Good.txt" file to (0,0).  This file contains a tuple of the diagonal of last good node (i.e. the diagonal where the last self reducing bag of digits was found) and the most recent diagonal checked (LastGood, MostRecent).  If you want to start over, you need to set this to (0,0).  If you want to start where the search left off, leave it the same.
2. **Generate Bags** To Generate the bags, you will need to use the "Base X One Off Checking.py" program.  This will look at each "diagonal" (all of the bags with the same total amount of digits, ie, the bag with one 1, and one 0 is on the second diagonal, the same diagonal as the bag with two 0's and zero 1's) in turn to see if it has any bags of self reducing digits.  The program starts with the diagonal noted in the LastGood.txt file.  It also checks the maximum possible number of digits that could be lost in a diagonal.  Since the maximum digits lost never decreases and the current diagonal always increases, if the current diagonal minus the maximum digits lost is ever greater than the last good diagonal, we know that we have found all of the bags of self reducing digits for that base.  Base 2 and 3 have already been found to have a finite amount of bags of self reducing digits.  You will need to set the folder variable to yoru current directory.  **It is recommended that you use pypy or another alternative compilation program to make this run faster.**
3. **Append Files** To save memory, the program saves each diagonal as a separate file.  These are saved in the Data folder.  In order to get a single file, use the Appending.py program.  You first need to copy all of the Output FinalY.csv files (where Y is the diagonal) from the Data folder.  Then use the Appending program to put them all into a single file. Ignore the Output Updating Y.csv files.  Then set the folder_to_process and Output variables to the correct locations.  This puts out the Output Final Base X.csv file.  It includes each good node as a row, starting with the node itself and reducing down to empty.
4. **Cleaning and Renaming** This file can then be cleaned up to create a dataset that can easily be processed by a network visualization program like Gephi.  To do this use the "Base X Cleaning and Renaming.py" program.  This program converts the appended files into an lsit of edges of a network visualization.  It also collapses the same edges down counting up the weights for each.  Collapsed Base X.csv documents all of the edges in the network graph in the format of the original generation with one column for input and one for output.  It is “collapsed” in the sense that if two nodes follow the same path back to empty, we don’t count the edges twice, we simply sum them up in the sum column.  Output_Pairs_Named Base X.csv is identical to the Collapsed Base X.csv file, but instead of the A, B notation it is in the We have A 0’s and B 1’s notation.  In order to run this program you must first change the location file and save the Output Final Base X.csv file as an Excel file.
5.  **Preparing for Gephi** Finally you can take the Output_Pairs_Named Base X.csv and prepare it for uploading into Gephi.  To do this rename the columns as Source, Target, and Weight and add the following columns Type (Directed), an ID (a count of the obs), and two blank variables Label and timeset.  

If you don't want to find new bags, you can alos look at the ones that have been found so far by opening the Gephi file or the svg file.
